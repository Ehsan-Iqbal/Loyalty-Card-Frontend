<div class="container-fluid px-2 px-lg-5 py-6">
  <div class="p-3 p-lg-4 bg-white border rounded-4 profile-wrap">
   <div class="overflow-auto">
  <ul class="nav nav-pills gap-2 flex-nowrap w-100" id="settingsTabs" role="tablist">

    <li class="nav-item flex-shrink-0" role="presentation">
      <button class="nav-link active d-flex align-items-center text-nowrap fw-medium fs-16"
        id="tab-profile-tab" data-bs-toggle="pill" data-bs-target="#tab-profile"
        type="button" role="tab" aria-controls="tab-profile" aria-selected="true">
        <i class="ri-edit-line me-1"></i>
        Edit Profile
      </button>
    </li>

    <li class="nav-item flex-shrink-0" role="presentation">
      <button class="nav-link d-flex align-items-center text-nowrap fw-medium fs-16"
        id="tab-password-tab" data-bs-toggle="pill" data-bs-target="#tab-password"
        type="button" role="tab" aria-controls="tab-password" aria-selected="false">
        <i class="ri-arrow-left-right-line me-1"></i>
        Change Password
      </button>
    </li>

    <li class="nav-item flex-shrink-0" role="presentation">
      <button class="nav-link d-flex align-items-center text-nowrap fw-medium fs-16"
        id="tab-2fa-tab" data-bs-toggle="pill" data-bs-target="#tab-2fa"
        type="button" role="tab" aria-controls="tab-2fa" aria-selected="false">

        <i class="ri-shield-keyhole-line me-1"></i>

        <!-- Mobile -->
        <span class="d-inline d-md-none">2FA</span>

        <!-- Desktop -->
        <span class="d-none d-md-inline">Two-Factor Authentication</span>
      </button>
    </li>

  </ul>
</div>


    <div class="tab-content" id="settingsTabsContent">
      <div class="tab-pane fade show active" id="tab-profile" role="tabpanel" aria-labelledby="tab-profile-tab">
        <h6 class="fw-semibold my-4 fs-18">Profile Settings</h6>
        <div class="row g-4 align-items-start">
          <div class="col-12 col-md-2">
            <div class="d-flex flex-column align-items-center align-items-md-start">
              <img [src]="imagePreview || 'images/profile-picture.png'" alt="Profile photo"
                class="rounded-circle mb-2" width="100" height="100" />
              <label for="photoUpload" class="text-primary fs-15 cursor-pointer hover-underline">Change Photo</label>
              <input id="photoUpload" type="file" class="d-none" accept="image/*" (change)="onFileSelected($event)" />
            </div>
          </div>
          <div class="col-12 col-md-10">
            <form [formGroup]="profileForm" (ngSubmit)="submitProfile()">
              <div class="row g-3">
                <div class="col-12 col-lg-6">
                  <label class="form-label text-gray fs-16 mb-0">First Name</label>
                  <input type="text" class="form-control shadow-none fs-16 py-3" formControlName="first_name"
                    placeholder="First Name">
                </div>

                <div class="col-12 col-lg-6">
                  <label class="form-label text-gray fs-16 mb-0">Last Name</label>
                  <input type="text" class="form-control shadow-none fs-16 py-3" formControlName="last_name"
                    placeholder="Last Name">
                </div>

                <div class="col-12 col-lg-6">
                  <label class="form-label text-gray fs-16 mb-0">Email</label>
                  <input type="email" class="form-control shadow-none fs-16 py-3" formControlName="email"
                    placeholder="Email">
                </div>

                <div class="col-12 col-lg-6">
                  <label class="form-label text-gray fs-16 mb-0">Role</label>
                  <input type="text" class="form-control text-gray shadow-none fs-16 py-3" formControlName="role"
                    readonly>
                </div>
              </div>
              <div class="d-flex justify-content-end mt-5">
                <button type="submit" class="btn btn-primary fs-18">
                  <i class="ri-save-3-line me-1"></i> Save Changes
                </button>
              </div>
            </form>

          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="tab-password" role="tabpanel" aria-labelledby="tab-password-tab">
        <h6 class="fw-semibold my-4 fs-18">Security Settings</h6>
        <form [formGroup]="passwordForm" (ngSubmit)="submitPassword()">
          <div class="row g-3">
            <div class="col-12 col-md-6">
              <label for="oldPwd" class="form-label text-gray fs-16 mb-0">Old Password</label>
              <div class="position-relative">
                <input [type]="oldType" class="form-control shadow-none fs-16 py-3 pe-5" id="oldPwd"
                  formControlName="old_password" placeholder="••••••••" aria-describedby="oldPwdHelp">
                <button type="button"
                  class="btn btn-link position-absolute top-50 end-0 translate-middle-y px-2 text-primary text-decoration-none"
                  (click)="toggleOld()" [attr.aria-label]="showOld ? 'Hide password' : 'Show password'">
                  <i class="{{ oldIcon }} fs-5"></i>
                </button>
              </div>
              <div class="invalid-feedback d-block text-primary fs-14"
                *ngIf="passwordForm.controls.old_password.touched && passwordForm.controls.old_password.invalid">
                Must be at least 8 characters.
              </div>
            </div>
            <div class="col-12 col-md-6">
              <label for="newPwd" class="form-label text-gray fs-16 mb-0">New Password</label>
              <div class="position-relative">
                <input [type]="newType" class="form-control shadow-none fs-16 py-3 pe-5" id="newPwd"
                  formControlName="new_password" placeholder="••••••••">
                <button type="button"
                  class="btn btn-link position-absolute top-50 end-0 translate-middle-y px-2 text-primary text-decoration-none"
                  (click)="toggleNew()" [attr.aria-label]="showNew ? 'Hide password' : 'Show password'">
                  <i class="{{ newIcon }} fs-5"></i>
                </button>
              </div>
              <div class="invalid-feedback d-block text-primary"
                *ngIf="passwordForm.controls.new_password.touched && passwordForm.controls.new_password.invalid">
                Must be at least 8 characters.
              </div>
            </div>
            <div class="col-12 mt-6">
              <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-primary fs-18">
                  <i class="ri-save-3-line me-1"></i>Save Changes
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="tab-pane fade" id="tab-2fa" role="tabpanel" aria-labelledby="tab-2fa-tab">
        <app-two-fa-page></app-two-fa-page>
      </div>
    </div>
  </div>
</div>